<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">FoundationDB</span><span class="hs-operator">.</span><span class="hs-identifier">Internal</span><span class="hs-operator">.</span><span class="hs-identifier">Database</span><span> </span><span class="hs-special">(</span><span>
</span><a name="line-2"></a><span>  </span><a href="FoundationDB.Internal.Database.html#FoundationDBOptions"><span class="hs-identifier hs-type">FoundationDBOptions</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-3"></a><span>  </span><a href="FoundationDB.Internal.Database.html#defaultOptions"><span class="hs-identifier hs-var">defaultOptions</span></a><span class="hs-special">,</span><span>
</span><a name="line-4"></a><span>  </span><a href="FoundationDB.Internal.Database.html#Database"><span class="hs-identifier hs-type">Database</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><a name="line-5"></a><span>  </span><a href="FoundationDB.Internal.Database.html#apiVersionInUse"><span class="hs-identifier hs-var">apiVersionInUse</span></a><span>
</span><a name="line-6"></a><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-7"></a><span>
</span><a name="line-8"></a><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><a href="FoundationDB.Internal.Bindings.html"><span class="hs-identifier">FoundationDB</span><span class="hs-operator">.</span><span class="hs-identifier">Internal</span><span class="hs-operator">.</span><span class="hs-identifier">Bindings</span></a><span> </span><span class="hs-keyword">as</span><span> </span><span class="hs-identifier">FDB</span><span>
</span><a name="line-9"></a><span class="hs-keyword">import</span><span> </span><a href="FoundationDB.Options.DatabaseOption.html"><span class="hs-identifier">FoundationDB</span><span class="hs-operator">.</span><span class="hs-identifier">Options</span><span class="hs-operator">.</span><span class="hs-identifier">DatabaseOption</span></a><span> </span><span class="hs-special">(</span><a href="FoundationDB.Options.DatabaseOption.html#DatabaseOption"><span class="hs-identifier hs-type">DatabaseOption</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-10"></a><span class="hs-keyword">import</span><span> </span><a href="FoundationDB.Options.NetworkOption.html"><span class="hs-identifier">FoundationDB</span><span class="hs-operator">.</span><span class="hs-identifier">Options</span><span class="hs-operator">.</span><span class="hs-identifier">NetworkOption</span></a><span> </span><span class="hs-special">(</span><a href="FoundationDB.Options.NetworkOption.html#NetworkOption"><span class="hs-identifier hs-type">NetworkOption</span></a><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><a name="line-11"></a><span>
</span><a name="line-12"></a><span class="hs-comment">-- | Options set at the connection level for FoundationDB.</span><span>
</span><a name="line-13"></a><span class="hs-keyword">data</span><span> </span><a name="FoundationDBOptions"><a href="FoundationDB.Internal.Database.html#FoundationDBOptions"><span class="hs-identifier">FoundationDBOptions</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="FoundationDBOptions"><a href="FoundationDB.Internal.Database.html#FoundationDBOptions"><span class="hs-identifier">FoundationDBOptions</span></a></a><span>
</span><a name="line-14"></a><span>  </span><span class="hs-special">{</span><span> </span><a name="apiVersion"><a href="FoundationDB.Internal.Database.html#apiVersion"><span class="hs-identifier">apiVersion</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Int</span><span>
</span><a name="line-15"></a><span>    </span><span class="hs-comment">-- ^ Desired API version. See 'currentAPIVersion' for the latest</span><span>
</span><a name="line-16"></a><span>    </span><span class="hs-comment">-- version installed on your system. The C API (and this library) allow you</span><span>
</span><a name="line-17"></a><span>    </span><span class="hs-comment">-- to choose any version earlier than 'currentAPIVersion' to get the client</span><span>
</span><a name="line-18"></a><span>    </span><span class="hs-comment">-- behavior of that version of the FoundationDB client library.</span><span>
</span><a name="line-19"></a><span>  </span><span class="hs-special">,</span><span> </span><a name="clusterFile"><a href="FoundationDB.Internal.Database.html#clusterFile"><span class="hs-identifier">clusterFile</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Maybe</span><span> </span><span class="hs-identifier hs-type">FilePath</span><span>
</span><a name="line-20"></a><span>  </span><span class="hs-comment">-- ^ Path to your @fdb.cluster@ file. If 'Nothing', uses</span><span>
</span><a name="line-21"></a><span>  </span><span class="hs-comment">-- default location.</span><span>
</span><a name="line-22"></a><span>  </span><span class="hs-special">,</span><span> </span><a name="networkOptions"><a href="FoundationDB.Internal.Database.html#networkOptions"><span class="hs-identifier">networkOptions</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="FoundationDB.Options.NetworkOption.html#NetworkOption"><span class="hs-identifier hs-type">NetworkOption</span></a><span class="hs-special">]</span><span>
</span><a name="line-23"></a><span>  </span><span class="hs-comment">-- ^ Additional network options. Each will be set in order.</span><span>
</span><a name="line-24"></a><span>  </span><span class="hs-special">,</span><span> </span><a name="databaseOptions"><a href="FoundationDB.Internal.Database.html#databaseOptions"><span class="hs-identifier">databaseOptions</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><a href="FoundationDB.Options.DatabaseOption.html#DatabaseOption"><span class="hs-identifier hs-type">DatabaseOption</span></a><span class="hs-special">]</span><span>
</span><a name="line-25"></a><span>  </span><span class="hs-comment">-- ^ Additional database options. Each will be set in order.</span><span>
</span><a name="line-26"></a><span>  </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Show</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Eq</span><span class="hs-special">,</span><span> </span><span class="hs-identifier hs-type">Ord</span><span class="hs-special">)</span><span>
</span><a name="line-27"></a><span>
</span><a name="line-28"></a><span class="hs-comment">-- | Uses the current API version, the default cluster file location, and no</span><span>
</span><a name="line-29"></a><span class="hs-comment">-- additional options.</span><span>
</span><a name="line-30"></a><span class="hs-identifier">defaultOptions</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="FoundationDB.Internal.Database.html#FoundationDBOptions"><span class="hs-identifier hs-type">FoundationDBOptions</span></a><span>
</span><a name="line-31"></a><a name="defaultOptions"><a href="FoundationDB.Internal.Database.html#defaultOptions"><span class="hs-identifier">defaultOptions</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a href="FoundationDB.Internal.Database.html#FoundationDBOptions"><span class="hs-identifier hs-var">FoundationDBOptions</span></a><span> </span><a href="FoundationDB.Internal.Bindings.html#currentAPIVersion"><span class="hs-identifier hs-var">FDB</span><span class="hs-operator hs-var">.</span><span class="hs-identifier hs-var">currentAPIVersion</span></a><span> </span><span class="hs-identifier hs-var">Nothing</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><a name="line-32"></a><span>
</span><a name="line-33"></a><span class="hs-keyword">data</span><span> </span><a name="Database"><a href="FoundationDB.Internal.Database.html#Database"><span class="hs-identifier">Database</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><a name="Database"><a href="FoundationDB.Internal.Database.html#Database"><span class="hs-identifier">Database</span></a></a><span>
</span><a name="line-34"></a><span>  </span><span class="hs-special">{</span><span> </span><a name="databasePtr"><a href="FoundationDB.Internal.Database.html#databasePtr"><span class="hs-identifier">databasePtr</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="FoundationDB.Internal.Bindings.html#DatabasePtr"><span class="hs-identifier hs-type">FDB</span><span class="hs-operator hs-type">.</span><span class="hs-identifier hs-type">DatabasePtr</span></a><span>
</span><a name="line-35"></a><span>  </span><span class="hs-special">,</span><span> </span><a name="databaseFoundationDBOptions"><a href="FoundationDB.Internal.Database.html#databaseFoundationDBOptions"><span class="hs-identifier">databaseFoundationDBOptions</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><a href="FoundationDB.Internal.Database.html#FoundationDBOptions"><span class="hs-identifier hs-type">FoundationDBOptions</span></a><span>
</span><a name="line-36"></a><span>  </span><span class="hs-special">}</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Show</span><span class="hs-special">)</span><span>
</span><a name="line-37"></a><span>
</span><a name="line-38"></a><span class="hs-comment">-- | Returns the API version that was specified in the 'apiVersion' field when</span><span>
</span><a name="line-39"></a><span class="hs-comment">-- the FDB client was initialized.</span><span>
</span><a name="line-40"></a><span class="hs-identifier">apiVersionInUse</span><span> </span><span class="hs-glyph">::</span><span> </span><a href="FoundationDB.Internal.Database.html#Database"><span class="hs-identifier hs-type">Database</span></a><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Int</span><span>
</span><a name="line-41"></a><a name="apiVersionInUse"><a href="FoundationDB.Internal.Database.html#apiVersionInUse"><span class="hs-identifier">apiVersionInUse</span></a></a><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">apiVersion</span><span> </span><span class="hs-operator hs-var">.</span><span> </span><span class="hs-identifier">databaseFoundationDBOptions</span><span>
</span><a name="line-42"></a></pre></body></html>